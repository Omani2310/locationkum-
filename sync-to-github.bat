@echo off
chcp 65001 >nul
title ูุฒุงููุฉ ููููุดููู ูุน GitHub

echo.
echo ========================================
echo    ูุฒุงููุฉ ููููุดููู ูุน GitHub
echo ========================================
echo.

:: ุงูุชุญูู ูู ูุฌูุฏ Git
git --version >nul 2>&1
if errorlevel 1 (
    echo โ Git ุบูุฑ ูุซุจุช ุนูู ุงููุธุงู
    echo ูุฑุฌู ุชุซุจูุช Git ูู: https://git-scm.com/
    pause
    exit /b 1
)

:: ุงูุชุญูู ูู ูุฌูุฏ ุงููุณุชูุฏุน
if not exist ".git" (
    echo โ ูุฐุง ุงููุฌูุฏ ููุณ ูุณุชูุฏุน Git
    echo ูุฑุฌู ุงูุชุฃูุฏ ูู ุฃูู ูู ุงููุฌูุฏ ุงูุตุญูุญ
    pause
    exit /b 1
)

echo โ Git ูุซุจุช ููุณุชูุฏุน ููุฌูุฏ
echo.

:: ุนุฑุถ ุญุงูุฉ ุงููุณุชูุฏุน
echo ๐ ุญุงูุฉ ุงููุณุชูุฏุน ุงูุญุงููุฉ:
git status --porcelain

echo.
echo ========================================
echo           ุจุฏุก ุงููุฒุงููุฉ
echo ========================================
echo.

:: ุฅุถุงูุฉ ุฌููุน ุงูุชุบููุฑุงุช
echo ๐ ุฅุถุงูุฉ ุงูุชุบููุฑุงุช...
git add .

:: ุงูุชุญูู ูู ูุฌูุฏ ุชุบููุฑุงุช
git diff --cached --quiet
if errorlevel 1 (
    echo โ ุชู ุงูุนุซูุฑ ุนูู ุชุบููุฑุงุช ุฌุฏูุฏุฉ
    
    :: ุนุฑุถ ุงูุชุบููุฑุงุช
    echo.
    echo ๐ ุงูุชุบููุฑุงุช ุงููุถุงูุฉ:
    git diff --cached --name-status
    
    echo.
    echo ๐ฌ ุฅุฏุฎุงู ุฑุณุงูุฉ ุงูู commit...
    set /p commit_msg="ุฃุฏุฎู ุฑุณุงูุฉ ุงูู commit (ุฃู ุงุถุบุท Enter ููุฑุณุงูุฉ ุงูุงูุชุฑุงุถูุฉ): "
    
    if "%commit_msg%"=="" (
        set commit_msg="ุชุญุฏูุซ ุชููุงุฆู: %date% %time%"
    )
    
    :: ุนูู commit
    echo.
    echo ๐ ุนูู commit...
    git commit -m "%commit_msg%"
    
    if errorlevel 1 (
        echo โ ูุดู ูู ุนูู commit
        pause
        exit /b 1
    )
    
    echo โ ุชู ุนูู commit ุจูุฌุงุญ
    
    :: ุฑูุน ุงูุชุบููุฑุงุช
    echo.
    echo ๐ ุฑูุน ุงูุชุบููุฑุงุช ุฅูู GitHub...
    git push origin main
    
    if errorlevel 1 (
        echo โ ูุดู ูู ุฑูุน ุงูุชุบููุฑุงุช
        echo.
        echo ๐ ูุญุงููุฉ ุญู ุงููุดููุฉ...
        
        :: ูุญุงููุฉ pull ุฃููุงู
        echo.
        echo ๐ฅ ุฌุงุฑู ุณุญุจ ุงูุชุญุฏูุซุงุช ูู GitHub...
        git pull origin main
        
        if errorlevel 1 (
            echo โ ูุดู ูู ุณุญุจ ุงูุชุญุฏูุซุงุช
            echo.
            echo ๐ก ุญููู ููุชุฑุญุฉ:
            echo 1. ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
            echo 2. ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช GitHub
            echo 3. ุชุฃูุฏ ูู ูุฌูุฏ ุตูุงุญูุงุช ุงููุชุงุจุฉ
            pause
            exit /b 1
        )
        
        echo โ ุชู ุณุญุจ ุงูุชุญุฏูุซุงุช ุจูุฌุงุญ
        
        :: ูุญุงููุฉ push ูุฑุฉ ุฃุฎุฑู
        echo.
        echo ๐ ูุญุงููุฉ ุฑูุน ุงูุชุบููุฑุงุช ูุฑุฉ ุฃุฎุฑู...
        git push origin main
        
        if errorlevel 1 (
            echo โ ูุดู ูู ุฑูุน ุงูุชุบููุฑุงุช ูุฑุฉ ุฃุฎุฑู
            pause
            exit /b 1
        )
    )
    
    echo โ ุชู ุฑูุน ุงูุชุบููุฑุงุช ุจูุฌุงุญ
    
    :: ุนุฑุถ ุญุงูุฉ ุงููุณุชูุฏุน ุจุนุฏ ุงููุฒุงููุฉ
    echo.
    echo ๐ ุญุงูุฉ ุงููุณุชูุฏุน ุจุนุฏ ุงููุฒุงููุฉ:
    git status
    
    echo.
    echo ๐ ุชูุช ุงููุฒุงููุฉ ุจูุฌุงุญ!
    
) else (
    echo โน๏ธ ูุง ุชูุฌุฏ ุชุบููุฑุงุช ุฌุฏูุฏุฉ ูููุฒุงููุฉ
)

echo.
echo ========================================
echo           ุงูุชูุช ุงููุฒุงููุฉ
echo ========================================
echo.

:: ุนุฑุถ ุขุฎุฑ commits
echo ๐ ุขุฎุฑ 5 commits:
git log --oneline -5

echo.
echo ๐ก ูุตุงุฆุญ:
echo - ููููู ุชุดุบูู ูุฐุง ุงูููู ูู ุฃู ููุช ูููุฒุงููุฉ
echo - ุชุฃูุฏ ูู ูุฌูุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช
echo - ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช GitHub
echo.

pause
